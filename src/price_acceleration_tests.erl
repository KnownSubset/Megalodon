-module(price_acceleration_tests).
-export ([test/0]).

test() ->
    eunit:test ({
        setup,
        fun () -> io:format ("~n** price_acceleration_tests **~n~n", []) end,
        [fun price_accerlation_test/0]}).

price_accerlation_test() ->
    Closings = [12156.81,11740.15,11893.69,12040.39,12254.99,12213.80,12258.90,12266.39,12582.18,12694.28,12684.92,12570.22,
                12381.02,12284.30,12427.26,12337.22,12348.21,12376.98,12552.24,12373.41,12240.01,12182.13,12247.00,12200.10,
                 12265.13,12635.16,12743.19,12650.36,12442.83,12480.30,12383.89,12207.17,12378.61,12270.17,11971.19,12099.30,
                 12159.21,12466.16,12501.11,12778.15,12606.30,12853.09,12735.31,12589.07,12827.49,12800.18,13056.72,13043.96],
    Accelerations_2 = [ -208.32999999999993,    76.77000000000044,    73.34999999999945,      107.30000000000018,
                        -20.595000000000255,    22.550000000000182,   3.744999999999891,      157.89500000000044,
                        56.05000000000018,      -4.680000000000291,   -57.350000000000364,    -94.59999999999945,
                        -48.36000000000058,     71.48000000000047,    -45.02000000000044,     5.494999999999891,
                        14.385000000000218,     87.63000000000011,    -89.41499999999996,     -66.69999999999982,
                        -28.94000000000051,     32.4350000000004,     -23.449999999999818,    32.51499999999942,
                        185.01500000000033,     54.01500000000033,    -46.414999999999964,    -103.76500000000033,
                        18.734999999999673,     -48.20499999999993,   -88.35999999999967,     85.72000000000025,
                        -54.220000000000255,    -149.48999999999978,  64.05499999999938,      29.954999999999927,
                        153.47500000000036,     17.475000000000364,   138.51999999999953,     -85.92500000000018,
                        123.39500000000044,     -58.89000000000033,   -73.11999999999989,     119.21000000000004,
                        -13.654999999999745,    128.26999999999953],
    print_lists(price_acceleration:calculate(Closings, 2)),
    Accelerations_2 = price_acceleration:calculate(Closings, 2).

print_lists([]) ->
    [];
print_lists([H|T]) ->
    io:format ("~n~p", [H]),
    print_lists(T).
